import activeDropMenu from"./dropDownMenu.js";const listAd=document.querySelector(".listAd"),sortBtn=document.querySelector(".radioMenu__item_sort"),sortMenu=document.querySelector(".sort"),activSort=t=>{if(sortMenu.classList.contains("sort_active"))sortMenu.classList.remove("sort_active");else{const{pageY:e,pageX:r}=t;sortMenu.classList.add("sort_active"),sortMenu.style.left=r-100+"px",sortMenu.style.top=e-170+"px"}};sortBtn.addEventListener("click",activSort);const sortMenuBtns=document.querySelectorAll(".sort__item"),sort=t=>{const e=t.target.closest(".sort__item").cloneNode(!0);e.querySelector(".hover").remove(),sortBtn.innerHTML=e.innerHTML;const r=t.target.getAttribute("data-type"),o=t.target.getAttribute("data-dir"),s={up:[-1,1],down:[1,-1]},n=`data-${r}`,i=[...listAd.children];i.sort(((t,e)=>t.getAttribute(n)<e.getAttribute(n)?s[o][0]:t.getAttribute(n)>e.getAttribute(n)?s[o][1]:0)),listAd.innerHTML="",i.forEach((t=>{listAd.innerHTML+=t.outerHTML}));listAd.querySelectorAll(".menuAd__Btn_options").forEach((t=>{t.addEventListener("click",activeDropMenu)})),window.dispatchEvent(new CustomEvent("sortAd"))};sortMenuBtns.forEach((t=>{t.addEventListener("click",sort)}));